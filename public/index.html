<!doctype html>
<html lang="ru" class="bg-gray-50 text-gray-900">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cron Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
      defer
    ></script>
    <style>
      [x-cloak] {
        display: none !important;
      }
      .tooltip {
        position: relative;
      }
      .tooltip-text {
        visibility: hidden;
        opacity: 0;
        width: max-content;
        max-width: 200px;
        background-color: #1f2937;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 8px 12px;
        position: absolute;
        z-index: 1000;
        bottom: 125%;
        left: 50%;
        transform: translateX(-50%);
        font-size: 12px;
        transition: opacity 0.3s;
        white-space: normal;
      }
      .tooltip-text::after {
        content: '';
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: #1f2937 transparent transparent transparent;
      }
      .tooltip:hover .tooltip-text,
      .tooltip.active .tooltip-text {
        visibility: visible;
        opacity: 1;
      }
    </style>
  </head>
  <body x-data="cronApp()" class="min-h-screen flex flex-col">
    <!-- Header -->
    <header
      class="bg-black text-white py-3 px-4 md:py-4 md:px-6 flex items-center justify-between flex-wrap gap-3"
    >
      <h1 class="text-lg md:text-xl font-semibold">CronJobs Dashboard</h1>
      <div class="flex items-center gap-2 md:gap-3">
        <template x-if="isAuthenticated">
          <div class="flex items-center gap-2 md:gap-3 flex-wrap">
            <span
              class="hidden sm:inline text-sm text-gray-300"
              x-text="'–ü—Ä–∏–≤–µ—Ç, ' + user.email"
            ></span>
            <button
              @click="openAddModal = true"
              class="bg-white text-black px-3 py-1.5 md:px-4 md:py-2 rounded-lg hover:bg-gray-200 transition text-sm md:text-base whitespace-nowrap"
            >
              + –ó–∞–¥–∞—á–∞
            </button>
            <button
              @click="logout()"
              class="bg-red-600 text-white px-3 py-1.5 md:px-4 md:py-2 rounded-lg hover:bg-red-700 transition text-sm md:text-base"
            >
              –í—ã–π—Ç–∏
            </button>
          </div>
        </template>
        <template x-if="!isAuthenticated">
          <div class="flex gap-2">
            <button
              @click="openLoginModal = true"
              class="bg-white text-black px-3 py-1.5 md:px-4 md:py-2 rounded-lg hover:bg-gray-200 transition text-sm md:text-base"
            >
              –í–æ–π—Ç–∏
            </button>
            <button
              @click="openRegisterModal = true"
              class="bg-gray-700 text-white px-3 py-1.5 md:px-4 md:py-2 rounded-lg hover:bg-gray-600 transition text-sm md:text-base"
            >
              –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
            </button>
          </div>
        </template>
      </div>
    </header>

    <!-- Main -->
    <main class="flex-1 p-3 md:p-6">
      <!-- –ï—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω -->
      <div
        x-show="!isAuthenticated"
        x-cloak
        class="flex items-center justify-center h-full"
      >
        <div class="text-center px-4">
          <h2 class="text-xl md:text-2xl font-semibold text-gray-700 mb-2">
            –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!
          </h2>
          <p class="text-sm md:text-base text-gray-500">
            –í–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å, —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–¥–∞—á–∞–º–∏
          </p>
        </div>
      </div>

      <!-- –ï—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω -->
      <div x-show="isAuthenticated" x-cloak>
        <!-- Desktop Table -->
        <div class="hidden md:block bg-white shadow rounded-lg overflow-hidden">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-100 text-gray-700 text-sm">
              <tr>
                <th class="px-4 py-2 text-left">–ò–º—è –∑–∞–¥–∞—á–∏</th>
                <th class="px-4 py-2 text-left">URL</th>
                <th class="px-4 py-2 text-left">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</th>
                <th class="px-4 py-2 text-left">–°—Ç–∞—Ç—É—Å</th>
                <th class="px-4 py-2 text-right">–î–µ–π—Å—Ç–≤–∏—è</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-100 text-sm">
              <template x-for="job in jobs" :key="job.id">
                <tr class="hover:bg-gray-50">
                  <td class="px-4 py-2" x-text="job.name"></td>
                  <td class="px-4 py-2">
                    <a
                      :href="job.url"
                      class="text-blue-600 hover:underline"
                      x-text="job.url"
                    ></a>
                  </td>
                  <td class="px-4 py-2">
                    <div class="flex items-center gap-1">
                      <span x-text="job.schedule"></span>
                      <div class="tooltip inline-block">
                        <span
                          class="cursor-help text-gray-400 hover:text-gray-600"
                          >‚ÑπÔ∏è</span
                        >
                        <span
                          class="tooltip-text"
                          x-text="getCronDescription(job.schedule)"
                        ></span>
                      </div>
                    </div>
                  </td>
                  <td class="px-4 py-2">
                    <span
                      class="px-2 py-1 text-xs rounded-full"
                      :class="job.active ? 'bg-green-100 text-green-700' : 'bg-gray-200 text-gray-600'"
                      x-text="job.active ? '–ê–∫—Ç–∏–≤–Ω–∞' : '–í—ã–∫–ª—é—á–µ–Ω–∞'"
                    ></span>
                  </td>
                  <td class="px-4 py-2 text-right space-x-2">
                    <button
                      @click="editJob(job)"
                      class="text-gray-600 hover:text-black"
                    >
                      ‚úèÔ∏è
                    </button>
                    <button
                      @click="confirmDelete(job.id)"
                      class="text-red-500 hover:text-red-700"
                    >
                      üóë
                    </button>
                  </td>
                </tr>
              </template>
            </tbody>
          </table>
          <div
            x-show="jobs.length === 0"
            class="text-center py-6 text-gray-500"
          >
            –ù–µ—Ç –∑–∞–¥–∞—á. –î–æ–±–∞–≤—å –ø–µ—Ä–≤—É—é!
          </div>
        </div>

        <!-- Mobile Cards -->
        <div class="md:hidden space-y-3">
          <template x-for="job in jobs" :key="job.id">
            <div class="bg-white shadow rounded-lg p-4">
              <div class="flex justify-between items-start mb-2">
                <h3 class="font-semibold text-gray-900" x-text="job.name"></h3>
                <span
                  class="px-2 py-1 text-xs rounded-full whitespace-nowrap"
                  :class="job.active ? 'bg-green-100 text-green-700' : 'bg-gray-200 text-gray-600'"
                  x-text="job.active ? '–ê–∫—Ç–∏–≤–Ω–∞' : '–í—ã–∫–ª—é—á–µ–Ω–∞'"
                ></span>
              </div>

              <div class="text-sm text-gray-600 space-y-1 mb-3">
                <div class="flex items-start gap-2">
                  <span class="text-gray-400">üîó</span>
                  <a
                    :href="job.url"
                    class="text-blue-600 hover:underline break-all flex-1"
                    x-text="job.url"
                  ></a>
                </div>
                <div class="flex items-center gap-2">
                  <span class="text-gray-400">‚è±Ô∏è</span>
                  <span x-text="job.schedule"></span>
                  <div
                    class="tooltip inline-block"
                    @click="$event.currentTarget.classList.toggle('active')"
                  >
                    <span class="cursor-pointer text-gray-400">‚ÑπÔ∏è</span>
                    <span
                      class="tooltip-text"
                      x-text="getCronDescription(job.schedule)"
                    ></span>
                  </div>
                </div>
              </div>

              <div class="flex gap-2 pt-2 border-t border-gray-100">
                <button
                  @click="editJob(job)"
                  class="flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded hover:bg-gray-200 text-sm font-medium"
                >
                  ‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å
                </button>
                <button
                  @click="confirmDelete(job.id)"
                  class="flex-1 bg-red-50 text-red-600 px-3 py-2 rounded hover:bg-red-100 text-sm font-medium"
                >
                  üóë –£–¥–∞–ª–∏—Ç—å
                </button>
              </div>
            </div>
          </template>

          <div
            x-show="jobs.length === 0"
            class="text-center py-12 text-gray-500 bg-white rounded-lg"
          >
            –ù–µ—Ç –∑–∞–¥–∞—á. –î–æ–±–∞–≤—å –ø–µ—Ä–≤—É—é!
          </div>
        </div>
      </div>
      <!-- End of authenticated section -->

      <!-- Add/Edit Modal -->
      <div
        x-show="openAddModal"
        x-cloak
        x-transition
        class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"
      >
        <div
          class="bg-white w-full max-w-md rounded-lg shadow-lg p-4 md:p-6 relative max-h-[90vh] overflow-y-auto"
          @click.outside="openAddModal = false"
        >
          <h2
            class="text-base md:text-lg font-semibold mb-4"
            x-text="editMode ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É' : '–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞'"
          ></h2>

          <form @submit.prevent="saveJob()">
            <label class="block text-sm mb-2">–ò–º—è</label>
            <input
              type="text"
              x-model="form.name"
              class="w-full border rounded px-3 py-2 mb-3 text-base"
              required
            />

            <label class="block text-sm mb-2">URL</label>
            <input
              type="url"
              x-model="form.url"
              class="w-full border rounded px-3 py-2 mb-3 text-base"
              required
            />

            <label class="block text-sm mb-2">Cron –≤—ã—Ä–∞–∂–µ–Ω–∏–µ</label>
            <input
              type="text"
              x-model="form.schedule"
              class="w-full border rounded px-3 py-2 mb-3 text-base"
              placeholder="*/5 * * * *"
            />

            <label class="inline-flex items-center mb-3">
              <input
                type="checkbox"
                x-model="form.active"
                class="mr-2 w-4 h-4"
              />
              –ê–∫—Ç–∏–≤–Ω–∞
            </label>

            <div
              class="flex flex-col-reverse sm:flex-row justify-end gap-2 sm:gap-2 mt-4"
            >
              <button
                type="button"
                @click="openAddModal = false"
                class="w-full sm:w-auto px-4 py-2 text-gray-600 hover:text-black border border-gray-300 rounded hover:bg-gray-50"
              >
                –û—Ç–º–µ–Ω–∞
              </button>
              <button
                type="submit"
                class="w-full sm:w-auto bg-black text-white px-4 py-2 rounded hover:bg-gray-800"
              >
                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Delete Confirm Modal -->
      <div
        x-show="openDeleteModal"
        x-cloak
        x-transition
        class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"
      >
        <div
          class="bg-white w-full max-w-sm rounded-lg shadow-lg p-4 md:p-6 text-center"
          @click.outside="openDeleteModal = false"
        >
          <h2
            class="text-base md:text-lg font-semibold mb-3 md:mb-4 text-red-600"
          >
            –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É?
          </h2>
          <p class="text-sm text-gray-600 mb-4 md:mb-6">
            –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.
          </p>
          <div
            class="flex flex-col-reverse sm:flex-row justify-center gap-2 sm:gap-3"
          >
            <button
              @click="openDeleteModal = false"
              class="w-full sm:w-auto px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"
            >
              –û—Ç–º–µ–Ω–∞
            </button>
            <button
              @click="deleteJob()"
              class="w-full sm:w-auto px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"
            >
              –£–¥–∞–ª–∏—Ç—å
            </button>
          </div>
        </div>
      </div>

      <!-- Login Modal -->
      <div
        x-show="openLoginModal"
        x-cloak
        x-transition
        class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"
      >
        <div
          class="bg-white w-full max-w-md rounded-lg shadow-lg p-4 md:p-6 relative"
          @click.outside="openLoginModal = false"
        >
          <h2 class="text-base md:text-lg font-semibold mb-4">–í—Ö–æ–¥</h2>

          <form @submit.prevent="login()">
            <label class="block text-sm mb-2">Email</label>
            <input
              type="email"
              x-model="loginForm.email"
              class="w-full border rounded px-3 py-2 mb-3 text-base"
              required
            />

            <label class="block text-sm mb-2">–ü–∞—Ä–æ–ª—å</label>
            <input
              type="password"
              x-model="loginForm.password"
              class="w-full border rounded px-3 py-2 mb-3 text-base"
              required
            />

            <div
              x-show="loginError"
              x-cloak
              class="text-red-600 text-sm mb-3"
              x-text="loginError"
            ></div>

            <div
              class="flex flex-col-reverse sm:flex-row justify-end gap-2 sm:gap-2 mt-4"
            >
              <button
                type="button"
                @click="openLoginModal = false"
                class="w-full sm:w-auto px-4 py-2 text-gray-600 hover:text-black border border-gray-300 rounded hover:bg-gray-50"
              >
                –û—Ç–º–µ–Ω–∞
              </button>
              <button
                type="submit"
                class="w-full sm:w-auto bg-black text-white px-4 py-2 rounded hover:bg-gray-800"
              >
                –í–æ–π—Ç–∏
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Register Modal -->
      <div
        x-show="openRegisterModal"
        x-cloak
        x-transition
        class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"
      >
        <div
          class="bg-white w-full max-w-md rounded-lg shadow-lg p-4 md:p-6 relative max-h-[90vh] overflow-y-auto"
          @click.outside="openRegisterModal = false"
        >
          <h2 class="text-base md:text-lg font-semibold mb-4">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>

          <form @submit.prevent="register()">
            <label class="block text-sm mb-2">Email</label>
            <input
              type="email"
              x-model="registerForm.email"
              class="w-full border rounded px-3 py-2 mb-3 text-base"
              required
            />

            <label class="block text-sm mb-2">–ü–∞—Ä–æ–ª—å</label>
            <input
              type="password"
              x-model="registerForm.password"
              class="w-full border rounded px-3 py-2 mb-3 text-base"
              minlength="6"
              required
            />

            <label class="block text-sm mb-2">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
            <input
              type="password"
              x-model="registerForm.confirmPassword"
              class="w-full border rounded px-3 py-2 mb-3 text-base"
              minlength="6"
              required
            />

            <div
              x-show="registerError"
              x-cloak
              class="text-red-600 text-sm mb-3"
              x-text="registerError"
            ></div>

            <div
              class="flex flex-col-reverse sm:flex-row justify-end gap-2 sm:gap-2 mt-4"
            >
              <button
                type="button"
                @click="openRegisterModal = false"
                class="w-full sm:w-auto px-4 py-2 text-gray-600 hover:text-black border border-gray-300 rounded hover:bg-gray-50"
              >
                –û—Ç–º–µ–Ω–∞
              </button>
              <button
                type="submit"
                class="w-full sm:w-auto bg-black text-white px-4 py-2 rounded hover:bg-gray-800"
              >
                –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
              </button>
            </div>
          </form>
        </div>
      </div>
    </main>

    <script>
      function cronApp() {
        return {
          jobs: [
            {
              id: 1,
              name: 'Ping API',
              url: 'https://api.example.com/ping',
              schedule: '*/5 * * * *',
              active: true,
            },
            {
              id: 2,
              name: 'Daily backup',
              url: 'https://api.example.com/backup',
              schedule: '0 3 * * *',
              active: false,
            },
            {
              id: 3,
              name: 'Generate reports',
              url: 'https://api.example.com/reports',
              schedule: '30 1 * * 1',
              active: true,
            },
            {
              id: 4,
              name: 'Sync data',
              url: 'https://api.example.com/sync',
              schedule: '0 */6 * * *',
              active: false,
            },
            {
              id: 5,
              name: 'Clean temp files',
              url: 'https://api.example.com/clean',
              schedule: '15 2 * * *',
              active: true,
            },
          ],
          openAddModal: false,
          openDeleteModal: false,
          openLoginModal: false,
          openRegisterModal: false,
          editMode: false,
          deleteId: null,
          form: { id: null, name: '', url: '', schedule: '', active: true },

          isAuthenticated: false,
          token: localStorage.getItem('jwt_token') || null,
          user: JSON.parse(localStorage.getItem('user') || '{}'),
          loginForm: { email: '', password: '' },
          registerForm: { email: '', password: '', confirmPassword: '' },
          loginError: '',
          registerError: '',

          init() {
            if (this.token) {
              this.isAuthenticated = true;
            }
          },

          async login() {
            this.loginError = '';

            try {
              const response = await fetch('/api/auth/login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(this.loginForm),
              });

              if (!response.ok) {
                throw new Error('–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å');
              }

              const data = await response.json();

              this.token = data.token;
              this.user = data.user;
              this.isAuthenticated = true;

              localStorage.setItem('jwt_token', data.token);
              localStorage.setItem('user', JSON.stringify(data.user));

              this.openLoginModal = false;
              this.loginForm = { email: '', password: '' };
            } catch (error) {
              this.loginError = error.message || '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞';
            }
          },

          async register() {
            this.registerError = '';

            if (
              this.registerForm.password !== this.registerForm.confirmPassword
            ) {
              this.registerError = '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç';
              return;
            }

            if (this.registerForm.password.length < 6) {
              this.registerError = '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤';
              return;
            }

            try {
              const response = await fetch('/api/auth/register', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                  email: this.registerForm.email,
                  password: this.registerForm.password,
                }),
              });

              if (!response.ok) {
                const error = await response.json();
                throw new Error(error.message || '–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏');
              }

              const data = await response.json();

              this.token = data.token;
              this.user = data.user;
              this.isAuthenticated = true;

              localStorage.setItem('jwt_token', data.token);
              localStorage.setItem('user', JSON.stringify(data.user));

              this.openRegisterModal = false;
              this.registerForm = {
                email: '',
                password: '',
                confirmPassword: '',
              };
            } catch (error) {
              this.registerError = error.message || '–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏';
            }
          },

          logout() {
            this.isAuthenticated = false;
            this.token = null;
            this.user = {};
            localStorage.removeItem('jwt_token');
            localStorage.removeItem('user');
            this.jobs = [];
          },

          editJob(job) {
            this.form = JSON.parse(JSON.stringify(job));
            this.editMode = true;
            this.openAddModal = true;
          },
          saveJob() {
            if (this.editMode) {
              const i = this.jobs.findIndex((j) => j.id === this.form.id);
              this.jobs[i] = { ...this.form };
            } else {
              this.jobs.push({ ...this.form, id: Date.now() });
            }
            this.openAddModal = false;
            this.editMode = false;
            this.form = {
              id: null,
              name: '',
              url: '',
              schedule: '',
              active: true,
            };
          },
          confirmDelete(id) {
            this.deleteId = id;
            this.openDeleteModal = true;
          },
          deleteJob() {
            this.jobs = this.jobs.filter((j) => j.id !== this.deleteId);
            this.openDeleteModal = false;
          },

          getCronDescription(cron) {
            if (!cron) return '–ù–µ —É–∫–∞–∑–∞–Ω–æ';

            const parts = cron.trim().split(/\s+/);
            if (parts.length !== 5) return '–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç';

            const [minute, hour, dayOfMonth, month, dayOfWeek] = parts;

            // –ö–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
            if (cron === '* * * * *') return '–ö–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É';

            // –ö–∞–∂–¥—ã–µ N –º–∏–Ω—É—Ç
            if (
              minute.startsWith('*/') &&
              hour === '*' &&
              dayOfMonth === '*' &&
              month === '*' &&
              dayOfWeek === '*'
            ) {
              const mins = minute.split('/')[1];
              return `–ö–∞–∂–¥—ã–µ ${mins} ${this.pluralize(mins, '–º–∏–Ω—É—Ç—É', '–º–∏–Ω—É—Ç—ã', '–º–∏–Ω—É—Ç')}`;
            }

            // –ö–∞–∂–¥—ã–π —á–∞—Å
            if (
              minute === '0' &&
              hour === '*' &&
              dayOfMonth === '*' &&
              month === '*' &&
              dayOfWeek === '*'
            ) {
              return '–ö–∞–∂–¥—ã–π —á–∞—Å';
            }

            // –ö–∞–∂–¥—ã–µ N —á–∞—Å–æ–≤
            if (
              hour.startsWith('*/') &&
              dayOfMonth === '*' &&
              month === '*' &&
              dayOfWeek === '*'
            ) {
              const hrs = hour.split('/')[1];
              return `–ö–∞–∂–¥—ã–µ ${hrs} ${this.pluralize(hrs, '—á–∞—Å', '—á–∞—Å–∞', '—á–∞—Å–æ–≤')}`;
            }

            // –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è
            if (
              !minute.includes('*') &&
              !hour.includes('*') &&
              dayOfMonth === '*' &&
              month === '*' &&
              dayOfWeek === '*'
            ) {
              return `–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ ${hour.padStart(2, '0')}:${minute.padStart(2, '0')}`;
            }

            // –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
            if (
              !minute.includes('*') &&
              !hour.includes('*') &&
              dayOfMonth === '*' &&
              month === '*' &&
              !dayOfWeek.includes('*')
            ) {
              const days = [
                '–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ',
                '–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫',
                '–≤—Ç–æ—Ä–Ω–∏–∫',
                '—Å—Ä–µ–¥—É',
                '—á–µ—Ç–≤–µ—Ä–≥',
                '–ø—è—Ç–Ω–∏—Ü—É',
                '—Å—É–±–±–æ—Ç—É',
              ];
              return `–ö–∞–∂–¥—ã–π ${days[parseInt(dayOfWeek)] || '–¥–µ–Ω—å'} –≤ ${hour.padStart(2, '0')}:${minute.padStart(2, '0')}`;
            }

            // –ï–∂–µ–º–µ—Å—è—á–Ω–æ
            if (
              !minute.includes('*') &&
              !hour.includes('*') &&
              !dayOfMonth.includes('*') &&
              month === '*' &&
              dayOfWeek === '*'
            ) {
              return `–ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü ${dayOfMonth}-–≥–æ —á–∏—Å–ª–∞ –≤ ${hour.padStart(2, '0')}:${minute.padStart(2, '0')}`;
            }

            return '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ';
          },

          pluralize(number, one, two, five) {
            let n = Math.abs(number);
            n %= 100;
            if (n >= 5 && n <= 20) return five;
            n %= 10;
            if (n === 1) return one;
            if (n >= 2 && n <= 4) return two;
            return five;
          },
        };
      }
    </script>
  </body>
</html>
